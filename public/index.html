<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÆ IconTale - Creative Storytelling Game</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="A modern, fun, and interactive multiplayer storytelling game where players write creative stories based on emoji combinations! Play with friends online.">
    <meta name="keywords" content="storytelling game, multiplayer game, emoji game, creative writing, online game, social game">
    <meta name="author" content="Arvin Ka">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="üéÆ IconTale - Creative Storytelling Game">
    <meta property="og:description" content="A modern, fun, and interactive multiplayer storytelling game where players write creative stories based on emoji combinations!">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://arvinka23.github.io/icontale">
    <meta property="og:image" content="https://arvinka23.github.io/icontale/og-image.png">
    <meta property="og:site_name" content="IconTale">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="üéÆ IconTale - Creative Storytelling Game">
    <meta name="twitter:description" content="A modern, fun, and interactive multiplayer storytelling game where players write creative stories based on emoji combinations!">
    <meta name="twitter:image" content="https://arvinka23.github.io/icontale/og-image.png">
    
    <!-- Favicon and Icons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="apple-touch-icon" href="/favicon.ico">
    
    <!-- Web App Manifest -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#764ba2">
    <meta name="msapplication-TileColor" content="#764ba2">
    
    <!-- Preconnect for Performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Socket.io -->
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <div class="container">
        <header class="game-header">
            <h1>üéÆ IconTale</h1>
            <p class="game-subtitle">Create amazing stories with emojis! üöÄ</p>
        </header>

        <main class="game-content">
            <!-- Main Menu Section -->
            <section id="main-menu" class="menu-section">
                <div class="tabs">
                    <button id="tab-create" class="tab active" aria-label="Create a new lobby">
                        <span class="tab-icon">‚ú®</span>
                        Create Lobby
                    </button>
                    <button id="tab-join" class="tab" aria-label="Join an existing lobby">
                        <span class="tab-icon">üéØ</span>
                        Join Lobby
                    </button>
                </div>
                
                <div class="emoji-block">
                    <span id="user-emoji" class="user-emoji circle" role="img" aria-label="Your selected emoji">üòÄ</span>
                    <button id="change-emoji" class="change-emoji-btn circle" title="Change your emoji" aria-label="Change emoji">
                        <span class="change-icon">üîÑ</span>
                    </button>
                </div>
                
                <div class="menu-fields">
                    <div class="input-group">
                        <label for="username" class="input-label">Your Name</label>
                        <input type="text" id="username" placeholder="Enter your nickname" maxlength="20">
                    </div>
                    <div class="input-group" id="room-code-group" style="display:none;">
                        <label for="room-code-input" class="input-label">Lobby Code</label>
                        <input type="text" id="room-code-input" placeholder="Enter 6-digit code" maxlength="6" pattern="[A-Za-z0-9]{6}">
                    </div>
                    <button id="menu-action-btn" class="primary-btn">
                        <span class="btn-icon">üöÄ</span>
                        Create lobby
                    </button>
                </div>
            </section>

            <!-- Lobby Section -->
            <section id="lobby" class="lobby-section" style="display:none;">
                <div class="lobby-header">
                    <h2 class="lobby-title">üé™ Lobby <span id="room-code" class="room-code"></span></h2>
                    <p class="lobby-subtitle">Waiting for players to join...</p>
                </div>
                
                <div class="lobby-players-grid" id="players-grid" role="grid" aria-label="Players in lobby"></div>
                
                <div class="lobby-actions">
                    <button id="start-game" class="start-btn" disabled>
                        <span class="btn-icon">üé¨</span>
                        Start Game
                    </button>
                    <p class="start-hint">Need at least 2 players to start</p>
                </div>
            </section>

            <!-- Story Writing Section -->
            <section id="story-section" class="story-section" style="display:none;">
                <div class="story-header">
                    <h2>üìù Write Your Story</h2>
                    <div class="story-info">
                        <div class="info-item">
                            <span class="info-label">Your emojis:</span>
                            <span id="emojis" class="info-value"></span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Time left:</span>
                            <span id="timer" class="info-value timer-value">2:00</span>
                        </div>
                    </div>
                </div>
                
                <div class="story-writing-area">
                    <textarea id="story" rows="8" cols="60" placeholder="Write your creative story here (50-500 words)..." maxlength="4000" aria-label="Story text area"></textarea>
                    <div class="story-stats">
                        <span class="word-count">Word count: <span id="word-count">0</span></span>
                    </div>
                </div>
                
                <button id="submit-story" class="primary-btn">
                    <span class="btn-icon">üì§</span>
                    Submit Story
                </button>
            </section>

            <!-- Text Writing Phase -->
            <section id="text-writing-section" class="writing-section" style="display:none;">
                <div class="writing-flex">
                    <div class="writing-timer">
                        <div class="timer-display">
                            <div class="timer-time" id="writing-timer-time">03:00</div>
                            <div class="timer-label">Time Remaining</div>
                        </div>
                        <div class="timer-bar-outer">
                            <div class="timer-bar-inner" id="writing-timer-bar"></div>
                        </div>
                    </div>
                    
                    <div class="writing-main">
                        <div class="writing-header">
                            <h3>üé® Your Emoji Inspiration</h3>
                            <div class="writing-emojis" id="writing-emojis" role="group" aria-label="Emojis for your story"></div>
                        </div>
                        
                        <div class="writing-area">
                            <textarea id="writing-story" rows="8" cols="60" placeholder="Let your creativity flow! Write a story inspired by these emojis..." maxlength="4000" aria-label="Story writing area"></textarea>
                        </div>
                        
                        <div class="writing-controls">
                            <button id="writing-finish-btn" class="primary-btn">
                                <span class="btn-icon">‚úÖ</span>
                                Finish Writing
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Guess Section -->
            <section id="guess-section" class="guess-section" style="display:none;">
                <div class="guess-flex">
                    <div class="guess-story-block">
                        <div class="guess-story-title">üìñ Story to Guess:</div>
                        <div id="guess-story" class="guess-story-text" role="article" aria-label="Story to guess"></div>
                    </div>
                    
                    <div class="guess-options">
                        <div class="guess-group">
                            <div class="guess-emoji-title">üéØ Choose the emoji combination:</div>
                            <div id="emoji-options" class="guess-emoji-options" role="group" aria-label="Emoji combination options"></div>
                        </div>
                        
                        <div class="guess-group">
                            <div class="guess-player-title">üë§ Who is the author?</div>
                            <div id="player-options" class="guess-player-options" role="group" aria-label="Player options"></div>
                        </div>
                    </div>
                    
                    <button id="submit-guess" class="primary-btn guess-submit-btn">
                        <span class="btn-icon">üéØ</span>
                        Submit Guess
                    </button>
                </div>
            </section>

            <!-- Results Section -->
            <section id="results-section" class="results-section" style="display:none;">
                <div class="results-flex">
                    <div class="results-sidebar" id="results-sidebar" role="complementary" aria-label="Player list"></div>
                    
                    <div class="results-chat-block">
                        <div class="chat-header">
                            <h3>üí¨ Story Discussion</h3>
                        </div>
                        <div id="results-chat" class="results-chat" role="log" aria-label="Chat messages"></div>
                        <button id="results-continue-btn" class="primary-btn results-continue-btn" style="display:none;">
                            <span class="btn-icon">‚û°Ô∏è</span>
                            Continue
                        </button>
                    </div>
                </div>
                
                <div class="leaderboard-container">
                    <h3 class="leaderboard-title">üèÜ Leaderboard</h3>
                    <table id="leaderboard-table" class="leaderboard-table" role="table" aria-label="Game leaderboard"></table>
                </div>
            </section>
        </main>

        <!-- Error Messages -->
        <div id="error-message" class="error-message" role="alert" aria-live="polite"></div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay" style="display:none;">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <p class="loading-text">Loading...</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html> 